之前写过一篇[模块化](https://juejin.cn/post/7025617255396311077)博客，那是掘金的第一篇，还是对各个规范之间的差异不懂，查阅了一些资料，再次总结下。在各个标准规范出来之前，手写的模块系统无非就是使用闭包，然后暴露出来接口，上一篇中归纳过，就暂不赘述，接下来总结一些各个规范。

##### CommonJS

CommonJS规范概述了同步声明依赖的模块定义。这个规范主要用于在服务器端实现模块化代码组织，如果想要使用在浏览器端，需要转译下。

CommonJS模块定义需要使用require()指定依赖，exports对象定义公开的API。

```javascript
module.exports = {
    name:'nick'
}

const a = require('./a')
```

其主要有以下几个特点

- 无论一个模块在require()中引用多少次，模块永远是单例。

- 模块第一次加载后会被缓存，后续加载的只是其缓存

- require()加载是同步执行操作，可以包含在语句中

  ```javascript
  if(true){
  	require('./a')
  }
  ```

- exports与module.exports

  exports只是module.exports的一个引用，

  - exports

    可以一次导出多个实体

    ```
    exports.name = 'nick'
    exports.age = '18'
    //等同于
    module.exports = {
        name:'nick',
        age:'18'
    }
    ```

  - module.exports

    如果一次只想导出一个实体，可以直接给module.exports赋值

    ```
    module.exports = {
        name:'nick'
    }
    ```

    

##### AMD

AMD( Asynchronous Module Definition )，以浏览器为目标执行环境。AMD的一般策略是让模块申明自己的依赖

##### UMD



##### CMD



ES6模块5