<!DOCTYPE html>
<html>
<head>
    <title>迭代器</title>
    <meta charset="utf-8">
</head>
<body>
<script type="text/javascript">
    function createIterator(items) {
        var i = 0;
        return {
            next: function() {
                var done = i >= items.length;
                var value = !done ? items[i++] : undefined;

                return {
                    done: done,
                    value: value
                };
            }
        };
    }

    // iterator 就是一个迭代器对象
    var iterator = createIterator([1, 2, 3]);

    console.log(iterator.next()); // { done: false, value: 1 }
    console.log(iterator.next()); // { done: false, value: 2 }
    console.log(iterator.next()); // { done: false, value: 3 }
    console.log(iterator.next()); // { done: true, value: undefined }


    iterator[Symbol.iterator] = function() {
        return createIterator([1, 2, 3]);
    };

    for (value of iterator) {
        console.log(value);
    }

</script>
</body>
</html>